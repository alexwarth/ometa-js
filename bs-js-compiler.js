{BSJSParser=objectThatDelegatesTo(OMeta,{
"space":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){return OMeta._superApplyWithArgs(this,'space')}),(function(){return this._applyWithArgs("fromTo","//","\n")}),(function(){return this._applyWithArgs("fromTo","/*","*/")}))},
"nameFirst":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){return this._apply("letter")}),(function(){return (function(){switch(this._apply('anything')){case "$":return "$";case "_":return "_";default: throw fail}}).call(this)}))},
"nameRest":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){return this._apply("nameFirst")}),(function(){return this._apply("digit")}))},
"iName":function(){var $elf=this,_fromIdx=this.input.idx;return this._consumedBy((function(){this._apply("nameFirst");return this._many((function(){return this._apply("nameRest")}))}))},
"isKeyword":function(x){var $elf=this,_fromIdx=this.input.idx;return this._pred(BSJSParser._isKeyword(x))},
"name":function(){var $elf=this,_fromIdx=this.input.idx,n;n=this._apply("iName");this._not((function(){return this._applyWithArgs("isKeyword",n)}));return ["name",((n == "self")?"$elf":n)]},
"keyword":function(){var $elf=this,_fromIdx=this.input.idx,k;k=this._apply("iName");this._applyWithArgs("isKeyword",k);return [k,k]},
"hexDigit":function(){var $elf=this,_fromIdx=this.input.idx,x,v;x=this._apply("char");v=this["hexDigits"].indexOf(x.toLowerCase());this._pred((v >= (0)));return v},
"hexLit":function(){var $elf=this,_fromIdx=this.input.idx,n,d;return this._or((function(){n=this._apply("hexLit");d=this._apply("hexDigit");return ((n * (16)) + d)}),(function(){return this._apply("hexDigit")}))},
"number":function(){var $elf=this,_fromIdx=this.input.idx,n,f;return this._or((function(){return (function(){switch(this._apply('anything')){case "0":return (function(){this._applyWithArgs("exactly","x");"0x";n=this._apply("hexLit");return ["number",n]}).call(this);default: throw fail}}).call(this)}),(function(){f=this._consumedBy((function(){this._many1((function(){return this._apply("digit")}));return this._opt((function(){this._applyWithArgs("exactly",".");return this._many1((function(){return this._apply("digit")}))}))}));return ["number",parseFloat(f)]}))},
"escapeChar":function(){var $elf=this,_fromIdx=this.input.idx,s;s=this._consumedBy((function(){this._applyWithArgs("exactly","\\");return this._or((function(){return (function(){switch(this._apply('anything')){case "u":return (function(){this._apply("hexDigit");this._apply("hexDigit");this._apply("hexDigit");return this._apply("hexDigit")}).call(this);case "x":return (function(){this._apply("hexDigit");return this._apply("hexDigit")}).call(this);default: throw fail}}).call(this)}),(function(){return this._apply("char")}))}));return unescape(s)},
"str":function(){var $elf=this,_fromIdx=this.input.idx,cs,n;return this._or((function(){return (function(){switch(this._apply('anything')){case "\"":return this._or((function(){return (function(){switch(this._apply('anything')){case "\"":return (function(){this._applyWithArgs("exactly","\"");"\"\"\"";cs=this._many((function(){this._not((function(){this._applyWithArgs("exactly","\"");this._applyWithArgs("exactly","\"");this._applyWithArgs("exactly","\"");return "\"\"\""}));return this._apply("char")}));this._applyWithArgs("exactly","\"");this._applyWithArgs("exactly","\"");this._applyWithArgs("exactly","\"");"\"\"\"";return ["string",cs.join("")]}).call(this);default: throw fail}}).call(this)}),(function(){cs=this._many((function(){return this._or((function(){return this._apply("escapeChar")}),(function(){this._not((function(){return this._applyWithArgs("exactly","\"")}));return this._apply("char")}))}));this._applyWithArgs("exactly","\"");return ["string",cs.join("")]}));case "\'":return (function(){cs=this._many((function(){return this._or((function(){return this._apply("escapeChar")}),(function(){this._not((function(){return this._applyWithArgs("exactly","\'")}));return this._apply("char")}))}));this._applyWithArgs("exactly","\'");return ["string",cs.join("")]}).call(this);default: throw fail}}).call(this)}),(function(){(function(){switch(this._apply('anything')){case "#":return "#";case "`":return "`";default: throw fail}}).call(this);n=this._apply("iName");return ["string",n]}))},
"special":function(){var $elf=this,_fromIdx=this.input.idx,s;s=(function(){switch(this._apply('anything')){case "(":return "(";case ")":return ")";case "{":return "{";case "}":return "}";case "[":return "[";case "]":return "]";case ",":return ",";case ";":return ";";case "?":return "?";case ":":return ":";case "!":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "!==";default: throw fail}}).call(this)}),(function(){return "!="}));default: throw fail}}).call(this)}),(function(){return "!"}));case "=":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "===";default: throw fail}}).call(this)}),(function(){return "=="}));default: throw fail}}).call(this)}),(function(){return "="}));case ">":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return ">=";default: throw fail}}).call(this)}),(function(){return ">"}));case "<":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "<=";default: throw fail}}).call(this)}),(function(){return "<"}));case "+":return this._or((function(){return (function(){switch(this._apply('anything')){case "+":return "++";case "=":return "+=";default: throw fail}}).call(this)}),(function(){return "+"}));case "-":return this._or((function(){return (function(){switch(this._apply('anything')){case "-":return "--";case "=":return "-=";default: throw fail}}).call(this)}),(function(){return "-"}));case "*":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "*=";default: throw fail}}).call(this)}),(function(){return "*"}));case "/":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "/=";default: throw fail}}).call(this)}),(function(){return "/"}));case "%":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "%=";default: throw fail}}).call(this)}),(function(){return "%"}));case "&":return (function(){switch(this._apply('anything')){case "&":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "&&=";default: throw fail}}).call(this)}),(function(){return "&&"}));default: throw fail}}).call(this);case "|":return (function(){switch(this._apply('anything')){case "|":return this._or((function(){return (function(){switch(this._apply('anything')){case "=":return "||=";default: throw fail}}).call(this)}),(function(){return "||"}));default: throw fail}}).call(this);case ".":return ".";default: throw fail}}).call(this);return [s,s]},
"tok":function(){var $elf=this,_fromIdx=this.input.idx;this._apply("spaces");return this._or((function(){return this._apply("name")}),(function(){return this._apply("keyword")}),(function(){return this._apply("number")}),(function(){return this._apply("str")}),(function(){return this._apply("special")}))},
"toks":function(){var $elf=this,_fromIdx=this.input.idx,ts;ts=this._many((function(){return this._apply("token")}));this._apply("spaces");this._apply("end");return ts},
"token":function(tt){var $elf=this,_fromIdx=this.input.idx,t;t=this._apply("tok");this._pred((t[(0)] == tt));return t[(1)]},
"spacesNoNl":function(){var $elf=this,_fromIdx=this.input.idx;return this._many((function(){this._not((function(){return this._applyWithArgs("exactly","\n")}));return this._apply("space")}))},
"expr":function(){var $elf=this,_fromIdx=this.input.idx,e,t,f,rhs;e=this._apply("orExpr");return this._or((function(){this._applyWithArgs("token","?");t=this._apply("expr");this._applyWithArgs("token",":");f=this._apply("expr");return ["condExpr",e,t,f]}),(function(){this._applyWithArgs("token","=");rhs=this._apply("expr");return ["set",e,rhs]}),(function(){this._applyWithArgs("token","+=");rhs=this._apply("expr");return ["mset",e,"+",rhs]}),(function(){this._applyWithArgs("token","-=");rhs=this._apply("expr");return ["mset",e,"-",rhs]}),(function(){this._applyWithArgs("token","*=");rhs=this._apply("expr");return ["mset",e,"*",rhs]}),(function(){this._applyWithArgs("token","/=");rhs=this._apply("expr");return ["mset",e,"/",rhs]}),(function(){this._applyWithArgs("token","%=");rhs=this._apply("expr");return ["mset",e,"%",rhs]}),(function(){this._applyWithArgs("token","&&=");rhs=this._apply("expr");return ["mset",e,"&&",rhs]}),(function(){this._applyWithArgs("token","||=");rhs=this._apply("expr");return ["mset",e,"||",rhs]}),(function(){this._apply("empty");return e}))},
"orExpr":function(){var $elf=this,_fromIdx=this.input.idx,x,y;return this._or((function(){x=this._apply("orExpr");this._applyWithArgs("token","||");y=this._apply("andExpr");return ["binop","||",x,y]}),(function(){return this._apply("andExpr")}))},
"andExpr":function(){var $elf=this,_fromIdx=this.input.idx,x,y;return this._or((function(){x=this._apply("andExpr");this._applyWithArgs("token","&&");y=this._apply("eqExpr");return ["binop","&&",x,y]}),(function(){return this._apply("eqExpr")}))},
"eqExpr":function(){var $elf=this,_fromIdx=this.input.idx,x,y;return this._or((function(){x=this._apply("eqExpr");return this._or((function(){this._applyWithArgs("token","==");y=this._apply("relExpr");return ["binop","==",x,y]}),(function(){this._applyWithArgs("token","!=");y=this._apply("relExpr");return ["binop","!=",x,y]}),(function(){this._applyWithArgs("token","===");y=this._apply("relExpr");return ["binop","===",x,y]}),(function(){this._applyWithArgs("token","!==");y=this._apply("relExpr");return ["binop","!==",x,y]}))}),(function(){return this._apply("relExpr")}))},
"relExpr":function(){var $elf=this,_fromIdx=this.input.idx,x,y;return this._or((function(){x=this._apply("relExpr");return this._or((function(){this._applyWithArgs("token",">");y=this._apply("addExpr");return ["binop",">",x,y]}),(function(){this._applyWithArgs("token",">=");y=this._apply("addExpr");return ["binop",">=",x,y]}),(function(){this._applyWithArgs("token","<");y=this._apply("addExpr");return ["binop","<",x,y]}),(function(){this._applyWithArgs("token","<=");y=this._apply("addExpr");return ["binop","<=",x,y]}),(function(){this._applyWithArgs("token","instanceof");y=this._apply("addExpr");return ["binop","instanceof",x,y]}))}),(function(){return this._apply("addExpr")}))},
"addExpr":function(){var $elf=this,_fromIdx=this.input.idx,x,y;return this._or((function(){x=this._apply("addExpr");this._applyWithArgs("token","+");y=this._apply("mulExpr");return ["binop","+",x,y]}),(function(){x=this._apply("addExpr");this._applyWithArgs("token","-");y=this._apply("mulExpr");return ["binop","-",x,y]}),(function(){return this._apply("mulExpr")}))},
"mulExpr":function(){var $elf=this,_fromIdx=this.input.idx,x,y;return this._or((function(){x=this._apply("mulExpr");this._applyWithArgs("token","*");y=this._apply("unary");return ["binop","*",x,y]}),(function(){x=this._apply("mulExpr");this._applyWithArgs("token","/");y=this._apply("unary");return ["binop","/",x,y]}),(function(){x=this._apply("mulExpr");this._applyWithArgs("token","%");y=this._apply("unary");return ["binop","%",x,y]}),(function(){return this._apply("unary")}))},
"unary":function(){var $elf=this,_fromIdx=this.input.idx,p;return this._or((function(){this._applyWithArgs("token","-");p=this._apply("postfix");return ["unop","-",p]}),(function(){this._applyWithArgs("token","+");p=this._apply("postfix");return ["unop","+",p]}),(function(){this._applyWithArgs("token","++");p=this._apply("postfix");return ["preop","++",p]}),(function(){this._applyWithArgs("token","--");p=this._apply("postfix");return ["preop","--",p]}),(function(){this._applyWithArgs("token","!");p=this._apply("unary");return ["unop","!",p]}),(function(){this._applyWithArgs("token","void");p=this._apply("unary");return ["unop","void",p]}),(function(){this._applyWithArgs("token","delete");p=this._apply("unary");return ["unop","delete",p]}),(function(){this._applyWithArgs("token","typeof");p=this._apply("unary");return ["unop","typeof",p]}),(function(){return this._apply("postfix")}))},
"postfix":function(){var $elf=this,_fromIdx=this.input.idx,p;p=this._apply("primExpr");return this._or((function(){this._apply("spacesNoNl");this._applyWithArgs("token","++");return ["postop","++",p]}),(function(){this._apply("spacesNoNl");this._applyWithArgs("token","--");return ["postop","--",p]}),(function(){this._apply("empty");return p}))},
"primExpr":function(){var $elf=this,_fromIdx=this.input.idx,p,i,m,as,f;return this._or((function(){p=this._apply("primExpr");return this._or((function(){this._applyWithArgs("token","[");i=this._apply("expr");this._applyWithArgs("token","]");return ["getp",i,p]}),(function(){this._applyWithArgs("token",".");m=this._applyWithArgs("token","name");this._applyWithArgs("token","(");as=this._applyWithArgs("listOf","expr",",");this._applyWithArgs("token",")");return ["send",m,p].concat(as)}),(function(){this._applyWithArgs("token",".");f=this._applyWithArgs("token","name");return ["getp",["string",f],p]}),(function(){this._applyWithArgs("token","(");as=this._applyWithArgs("listOf","expr",",");this._applyWithArgs("token",")");return ["call",p].concat(as)}))}),(function(){return this._apply("primExprHd")}))},
"primExprHd":function(){var $elf=this,_fromIdx=this.input.idx,e,n,s,as,es;return this._or((function(){this._applyWithArgs("token","(");e=this._apply("expr");this._applyWithArgs("token",")");return e}),(function(){this._applyWithArgs("token","this");return ["this"]}),(function(){n=this._applyWithArgs("token","name");return ["get",n]}),(function(){n=this._applyWithArgs("token","number");return ["number",n]}),(function(){s=this._applyWithArgs("token","string");return ["string",s]}),(function(){this._applyWithArgs("token","function");return this._apply("funcRest")}),(function(){this._applyWithArgs("token","new");n=this._applyWithArgs("token","name");this._applyWithArgs("token","(");as=this._applyWithArgs("listOf","expr",",");this._applyWithArgs("token",")");return ["new",n].concat(as)}),(function(){this._applyWithArgs("token","[");es=this._applyWithArgs("listOf","expr",",");this._applyWithArgs("token","]");return ["arr"].concat(es)}),(function(){return this._apply("json")}),(function(){return this._apply("re")}))},
"json":function(){var $elf=this,_fromIdx=this.input.idx,bs;this._applyWithArgs("token","{");bs=this._applyWithArgs("listOf","jsonBinding",",");this._applyWithArgs("token","}");return ["json"].concat(bs)},
"jsonBinding":function(){var $elf=this,_fromIdx=this.input.idx,n,v;n=this._apply("jsonPropName");this._applyWithArgs("token",":");v=this._apply("expr");return ["binding",n,v]},
"jsonPropName":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){return this._applyWithArgs("token","name")}),(function(){return this._applyWithArgs("token","number")}),(function(){return this._applyWithArgs("token","string")}))},
"re":function(){var $elf=this,_fromIdx=this.input.idx,x;this._apply("spaces");x=this._consumedBy((function(){this._applyWithArgs("exactly","/");this._apply("reBody");this._applyWithArgs("exactly","/");return this._many((function(){return this._apply("reFlag")}))}));return ["regExpr",x]},
"reBody":function(){var $elf=this,_fromIdx=this.input.idx;this._apply("re1stChar");return this._many((function(){return this._apply("reChar")}))},
"re1stChar":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){this._not((function(){return (function(){switch(this._apply('anything')){case "*":return "*";case "\\":return "\\";case "/":return "/";case "[":return "[";default: throw fail}}).call(this)}));return this._apply("reNonTerm")}),(function(){return this._apply("escapeChar")}),(function(){return this._apply("reClass")}))},
"reChar":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){return this._apply("re1stChar")}),(function(){return (function(){switch(this._apply('anything')){case "*":return "*";default: throw fail}}).call(this)}))},
"reNonTerm":function(){var $elf=this,_fromIdx=this.input.idx;this._not((function(){return (function(){switch(this._apply('anything')){case "\n":return "\n";case "\r":return "\r";default: throw fail}}).call(this)}));return this._apply("char")},
"reClass":function(){var $elf=this,_fromIdx=this.input.idx;this._applyWithArgs("exactly","[");this._many((function(){return this._apply("reClassChar")}));return this._applyWithArgs("exactly","]")},
"reClassChar":function(){var $elf=this,_fromIdx=this.input.idx;this._not((function(){return (function(){switch(this._apply('anything')){case "[":return "[";case "]":return "]";default: throw fail}}).call(this)}));return this._apply("reChar")},
"reFlag":function(){var $elf=this,_fromIdx=this.input.idx;return this._apply("nameFirst")},
"formal":function(){var $elf=this,_fromIdx=this.input.idx;this._apply("spaces");return this._applyWithArgs("token","name")},
"funcRest":function(){var $elf=this,_fromIdx=this.input.idx,fs,body;this._applyWithArgs("token","(");fs=this._applyWithArgs("listOf","formal",",");this._applyWithArgs("token",")");this._applyWithArgs("token","{");body=this._apply("srcElems");this._applyWithArgs("token","}");return ["func",fs,body]},
"sc":function(){var $elf=this,_fromIdx=this.input.idx;return this._or((function(){this._apply("spacesNoNl");return this._or((function(){return (function(){switch(this._apply('anything')){case "\n":return "\n";default: throw fail}}).call(this)}),(function(){return this._lookahead((function(){return this._applyWithArgs("exactly","}")}))}),(function(){return this._apply("end")}))}),(function(){return this._applyWithArgs("token",";")}))},
"binding":function(){var $elf=this,_fromIdx=this.input.idx,n,v;n=this._applyWithArgs("token","name");v=this._or((function(){this._applyWithArgs("token","=");return this._apply("expr")}),(function(){this._apply("empty");return ["get","undefined"]}));return ["var",n,v]},
"block":function(){var $elf=this,_fromIdx=this.input.idx,ss;this._applyWithArgs("token","{");ss=this._apply("srcElems");this._applyWithArgs("token","}");return ss},
"stmt":function(){var $elf=this,_fromIdx=this.input.idx,bs,c,t,f,s,i,u,n,v,e,cs,x;return this._or((function(){return this._apply("block")}),(function(){this._applyWithArgs("token","var");bs=this._applyWithArgs("listOf","binding",",");this._apply("sc");return ["begin"].concat(bs)}),(function(){this._applyWithArgs("token","if");this._applyWithArgs("token","(");c=this._apply("expr");this._applyWithArgs("token",")");t=this._apply("stmt");f=this._or((function(){this._applyWithArgs("token","else");return this._apply("stmt")}),(function(){this._apply("empty");return ["get","undefined"]}));return ["if",c,t,f]}),(function(){this._applyWithArgs("token","while");this._applyWithArgs("token","(");c=this._apply("expr");this._applyWithArgs("token",")");s=this._apply("stmt");return ["while",c,s]}),(function(){this._applyWithArgs("token","do");s=this._apply("stmt");this._applyWithArgs("token","while");this._applyWithArgs("token","(");c=this._apply("expr");this._applyWithArgs("token",")");this._apply("sc");return ["doWhile",s,c]}),(function(){this._applyWithArgs("token","for");this._applyWithArgs("token","(");i=this._or((function(){this._applyWithArgs("token","var");return this._apply("binding")}),(function(){return this._apply("expr")}),(function(){this._apply("empty");return ["get","undefined"]}));this._applyWithArgs("token",";");c=this._or((function(){return this._apply("expr")}),(function(){this._apply("empty");return ["get","true"]}));this._applyWithArgs("token",";");u=this._or((function(){return this._apply("expr")}),(function(){this._apply("empty");return ["get","undefined"]}));this._applyWithArgs("token",")");s=this._apply("stmt");return ["for",i,c,u,s]}),(function(){this._applyWithArgs("token","for");this._applyWithArgs("token","(");v=this._or((function(){this._applyWithArgs("token","var");n=this._applyWithArgs("token","name");return ["var",n,["get","undefined"]]}),(function(){return this._apply("expr")}));this._applyWithArgs("token","in");e=this._apply("expr");this._applyWithArgs("token",")");s=this._apply("stmt");return ["forIn",v,e,s]}),(function(){this._applyWithArgs("token","switch");this._applyWithArgs("token","(");e=this._apply("expr");this._applyWithArgs("token",")");this._applyWithArgs("token","{");cs=this._many((function(){return this._or((function(){this._applyWithArgs("token","case");c=this._apply("expr");this._applyWithArgs("token",":");cs=this._apply("srcElems");return ["case",c,cs]}),(function(){this._applyWithArgs("token","default");this._applyWithArgs("token",":");cs=this._apply("srcElems");return ["default",cs]}))}));this._applyWithArgs("token","}");return ["switch",e].concat(cs)}),(function(){this._applyWithArgs("token","break");this._apply("sc");return ["break"]}),(function(){this._applyWithArgs("token","continue");this._apply("sc");return ["continue"]}),(function(){this._applyWithArgs("token","throw");this._apply("spacesNoNl");e=this._apply("expr");this._apply("sc");return ["throw",e]}),(function(){this._applyWithArgs("token","try");t=this._apply("block");this._applyWithArgs("token","catch");this._applyWithArgs("token","(");e=this._applyWithArgs("token","name");this._applyWithArgs("token",")");c=this._apply("block");f=this._or((function(){this._applyWithArgs("token","finally");return this._apply("block")}),(function(){this._apply("empty");return ["get","undefined"]}));return ["try",t,e,c,f]}),(function(){this._applyWithArgs("token","return");e=this._or((function(){return this._apply("expr")}),(function(){this._apply("empty");return ["get","undefined"]}));this._apply("sc");return ["return",e]}),(function(){this._applyWithArgs("token","with");this._applyWithArgs("token","(");x=this._apply("expr");this._applyWithArgs("token",")");s=this._apply("stmt");return ["with",x,s]}),(function(){e=this._apply("expr");this._apply("sc");return e}),(function(){this._applyWithArgs("token",";");return ["get","undefined"]}))},
"srcElem":function(){var $elf=this,_fromIdx=this.input.idx,n,f;return this._or((function(){this._applyWithArgs("token","function");n=this._applyWithArgs("token","name");f=this._apply("funcRest");return ["var",n,f]}),(function(){return this._apply("stmt")}))},
"srcElems":function(){var $elf=this,_fromIdx=this.input.idx,ss;ss=this._many((function(){return this._apply("srcElem")}));return ["begin"].concat(ss)},
"topLevel":function(){var $elf=this,_fromIdx=this.input.idx,r;r=this._apply("srcElems");this._apply("spaces");this._apply("end");return r}});(BSJSParser["hexDigits"]="0123456789abcdef");(BSJSParser["keywords"]=({}));(keywords=["break","case","catch","continue","default","delete","do","else","finally","for","function","if","in","instanceof","new","return","switch","this","throw","try","typeof","var","void","while","with","ometa"]);for(var idx=(0);(idx < keywords["length"]);idx++){(BSJSParser["keywords"][keywords[idx]]=true)}(BSJSParser["_isKeyword"]=(function (k){return this["keywords"].hasOwnProperty(k)}));BSSemActionParser=objectThatDelegatesTo(BSJSParser,{
"curlySemAction":function(){var $elf=this,_fromIdx=this.input.idx,r,s,ss;return this._or((function(){this._applyWithArgs("token","{");r=this._apply("expr");this._apply("sc");this._applyWithArgs("token","}");this._apply("spaces");return r}),(function(){this._applyWithArgs("token","{");ss=this._many((function(){s=this._apply("srcElem");this._lookahead((function(){return this._apply("srcElem")}));return s}));s=this._or((function(){r=this._apply("expr");this._apply("sc");return ["return",r]}),(function(){return this._apply("srcElem")}));ss.push(s);this._applyWithArgs("token","}");this._apply("spaces");return ["send","call",["func",[],["begin"].concat(ss)],["this"]]}))},
"semAction":function(){var $elf=this,_fromIdx=this.input.idx,r;return this._or((function(){return this._apply("curlySemAction")}),(function(){r=this._apply("primExpr");this._apply("spaces");return r}))}});BSJSTranslator=objectThatDelegatesTo(OMeta,{
"trans":function(){var $elf=this,_fromIdx=this.input.idx,t,ans;this._form((function(){t=this._apply("anything");return ans=this._applyWithArgs("apply",t)}));return ans},
"curlyTrans":function(){var $elf=this,_fromIdx=this.input.idx,r,rs;return this._or((function(){this._form((function(){this._applyWithArgs("exactly","begin");return r=this._apply("curlyTrans")}));return r}),(function(){this._form((function(){this._applyWithArgs("exactly","begin");return rs=this._many((function(){return this._apply("trans")}))}));return (("{" + rs.join(";")) + "}")}),(function(){r=this._apply("trans");return (("{" + r) + "}")}))},
"this":function(){var $elf=this,_fromIdx=this.input.idx;return "this"},
"break":function(){var $elf=this,_fromIdx=this.input.idx;return "break"},
"continue":function(){var $elf=this,_fromIdx=this.input.idx;return "continue"},
"number":function(){var $elf=this,_fromIdx=this.input.idx,n;n=this._apply("anything");return (("(" + n) + ")")},
"string":function(){var $elf=this,_fromIdx=this.input.idx,s;s=this._apply("anything");return s.toProgramString()},
"regExpr":function(){var $elf=this,_fromIdx=this.input.idx,x;x=this._apply("anything");return x},
"arr":function(){var $elf=this,_fromIdx=this.input.idx,xs;xs=this._many((function(){return this._apply("trans")}));return (("[" + xs.join(",")) + "]")},
"unop":function(){var $elf=this,_fromIdx=this.input.idx,op,x;op=this._apply("anything");x=this._apply("trans");return (((("(" + op) + " ") + x) + ")")},
"getp":function(){var $elf=this,_fromIdx=this.input.idx,fd,x;fd=this._apply("trans");x=this._apply("trans");return (((x + "[") + fd) + "]")},
"get":function(){var $elf=this,_fromIdx=this.input.idx,x;x=this._apply("anything");return x},
"set":function(){var $elf=this,_fromIdx=this.input.idx,lhs,rhs;lhs=this._apply("trans");rhs=this._apply("trans");return (((("(" + lhs) + "=") + rhs) + ")")},
"mset":function(){var $elf=this,_fromIdx=this.input.idx,lhs,op,rhs;lhs=this._apply("trans");op=this._apply("anything");rhs=this._apply("trans");return ((((("(" + lhs) + op) + "=") + rhs) + ")")},
"binop":function(){var $elf=this,_fromIdx=this.input.idx,op,x,y;op=this._apply("anything");x=this._apply("trans");y=this._apply("trans");return (((((("(" + x) + " ") + op) + " ") + y) + ")")},
"preop":function(){var $elf=this,_fromIdx=this.input.idx,op,x;op=this._apply("anything");x=this._apply("trans");return (op + x)},
"postop":function(){var $elf=this,_fromIdx=this.input.idx,op,x;op=this._apply("anything");x=this._apply("trans");return (x + op)},
"return":function(){var $elf=this,_fromIdx=this.input.idx,x;x=this._apply("trans");return ("return " + x)},
"with":function(){var $elf=this,_fromIdx=this.input.idx,x,s;x=this._apply("trans");s=this._apply("curlyTrans");return ((("with(" + x) + ")") + s)},
"if":function(){var $elf=this,_fromIdx=this.input.idx,cond,t,e;cond=this._apply("trans");t=this._apply("curlyTrans");e=this._apply("curlyTrans");return ((((("if(" + cond) + ")") + t) + "else") + e)},
"condExpr":function(){var $elf=this,_fromIdx=this.input.idx,cond,t,e;cond=this._apply("trans");t=this._apply("trans");e=this._apply("trans");return (((((("(" + cond) + "?") + t) + ":") + e) + ")")},
"while":function(){var $elf=this,_fromIdx=this.input.idx,cond,body;cond=this._apply("trans");body=this._apply("curlyTrans");return ((("while(" + cond) + ")") + body)},
"doWhile":function(){var $elf=this,_fromIdx=this.input.idx,body,cond;body=this._apply("curlyTrans");cond=this._apply("trans");return (((("do" + body) + "while(") + cond) + ")")},
"for":function(){var $elf=this,_fromIdx=this.input.idx,init,cond,upd,body;init=this._apply("trans");cond=this._apply("trans");upd=this._apply("trans");body=this._apply("curlyTrans");return ((((((("for(" + init) + ";") + cond) + ";") + upd) + ")") + body)},
"forIn":function(){var $elf=this,_fromIdx=this.input.idx,x,arr,body;x=this._apply("trans");arr=this._apply("trans");body=this._apply("curlyTrans");return ((((("for(" + x) + " in ") + arr) + ")") + body)},
"begin":function(){var $elf=this,_fromIdx=this.input.idx,x,xs;return this._or((function(){x=this._apply("trans");this._apply("end");return x}),(function(){xs=this._many((function(){x=this._apply("trans");return this._or((function(){this._or((function(){return this._pred((x[(x["length"] - (1))] == "}"))}),(function(){return this._apply("end")}));return x}),(function(){this._apply("empty");return (x + ";")}))}));return (("{" + xs.join("")) + "}")}))},
"func":function(){var $elf=this,_fromIdx=this.input.idx,args,body;args=this._apply("anything");body=this._apply("curlyTrans");return (((("(function (" + args.join(",")) + ")") + body) + ")")},
"call":function(){var $elf=this,_fromIdx=this.input.idx,fn,args;fn=this._apply("trans");args=this._many((function(){return this._apply("trans")}));return (((fn + "(") + args.join(",")) + ")")},
"send":function(){var $elf=this,_fromIdx=this.input.idx,msg,recv,args;msg=this._apply("anything");recv=this._apply("trans");args=this._many((function(){return this._apply("trans")}));return (((((recv + ".") + msg) + "(") + args.join(",")) + ")")},
"new":function(){var $elf=this,_fromIdx=this.input.idx,cls,args;cls=this._apply("anything");args=this._many((function(){return this._apply("trans")}));return (((("new " + cls) + "(") + args.join(",")) + ")")},
"var":function(){var $elf=this,_fromIdx=this.input.idx,name,val;name=this._apply("anything");val=this._apply("trans");return ((("var " + name) + "=") + val)},
"throw":function(){var $elf=this,_fromIdx=this.input.idx,x;x=this._apply("trans");return ("throw " + x)},
"try":function(){var $elf=this,_fromIdx=this.input.idx,x,name,c,f;x=this._apply("curlyTrans");name=this._apply("anything");c=this._apply("curlyTrans");f=this._apply("curlyTrans");return ((((((("try " + x) + "catch(") + name) + ")") + c) + "finally") + f)},
"json":function(){var $elf=this,_fromIdx=this.input.idx,props;props=this._many((function(){return this._apply("trans")}));return (("({" + props.join(",")) + "})")},
"binding":function(){var $elf=this,_fromIdx=this.input.idx,name,val;name=this._apply("anything");val=this._apply("trans");return ((name.toProgramString() + ": ") + val)},
"switch":function(){var $elf=this,_fromIdx=this.input.idx,x,cases;x=this._apply("trans");cases=this._many((function(){return this._apply("trans")}));return (((("switch(" + x) + "){") + cases.join(";")) + "}")},
"case":function(){var $elf=this,_fromIdx=this.input.idx,x,y;x=this._apply("trans");y=this._apply("trans");return ((("case " + x) + ": ") + y)},
"default":function(){var $elf=this,_fromIdx=this.input.idx,y;y=this._apply("trans");return ("default: " + y)}})}